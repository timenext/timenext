"undefined"==typeof WeakMap&&function(){var e=Date.now()%1e9,t=function(t){this.name="__bx"+(1e9*Math.random()>>>0)+e++};t.prototype={set:function(e,t){if(!this.isValid(e))throw new TypeError("Invalid value used as weak map key");var n=e[this.name];return n&&n[0]===e?n[1]=t:Object.defineProperty(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){if(this.isValid(e)){var t=e[this.name];return t&&t[0]===e?t[1]:void 0}},delete:function(e){if(!this.isValid(e))return!1;var t=e[this.name];if(!t)return!1;var n=t[0]===e;return t[0]=t[1]=void 0,n},has:function(e){if(!this.isValid(e))return!1;var t=e[this.name];return t&&t[0]===e},isValid:function(e){return e&&("object"==typeof e||"function"==typeof e)}},window.WeakMap=t}(),Object.values||(Object.values=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&t.push(e[n]);return t}),function(window){if(!window.BX||!window.BX.extend){var _bxtmp;if(window.BX&&(_bxtmp=window.BX),window.BX=function(e,t){var n;return BX.type.isNotEmptyString(e)?(t&&null!=NODECACHE[e]&&(n=NODECACHE[e]),n=n||document.getElementById(e),t&&(NODECACHE[e]=n),n):BX.type.isDomNode(e)?e:BX.type.isFunction(e)?BX.ready(e):null},BX.debugEnableFlag=!0,BX.message=function(e){if(""===e||"string"==typeof e||e instanceof String)return void 0===BX.message[e]&&void 0!==BX.onCustomEvent&&BX.onCustomEvent("onBXMessageNotFound",[e]),void 0===BX.message[e]&&(void 0!==BX.debug&&BX.debug("message undefined: "+e),BX.message[e]=""),BX.message[e];if("object"==typeof e&&e){for(var t in e)e.hasOwnProperty(t)&&(BX.message[t]=e[t]);return!0}},_bxtmp){for(var i in _bxtmp)if(_bxtmp.hasOwnProperty(i))if(BX[i]){if("message"==i)for(var j in _bxtmp[i])_bxtmp[i].hasOwnProperty(j)&&(BX.message[j]=_bxtmp[i][j])}else BX[i]=_bxtmp[i];_bxtmp=null}var __readyHandler=null,readyBound=!1,readyList=[],proxyList=new WeakMap,deferList=new WeakMap,NODECACHE={},deniedEvents=[],eventsList=new WeakMap,customEvents=new WeakMap,customEventsCnt=0,garbageCollectors=[],cssList=[],cssInit=!1,jsList=[],jsInit=!1,bSafari=-1!=navigator.userAgent.toLowerCase().indexOf("webkit"),bOpera=-1!=navigator.userAgent.toLowerCase().indexOf("opera"),bFirefox=-1!=navigator.userAgent.toLowerCase().indexOf("firefox"),bChrome=-1!=navigator.userAgent.toLowerCase().indexOf("chrome"),bIE=document.attachEvent&&!bOpera,r={script:/<script([^>]*)>/gi,script_end:/<\/script>/gi,script_src:/src=["\']([^"\']+)["\']/i,script_type:/type=["\']([^"\']+)["\']/i,space:/\s+/,ltrim:/^[\s\r\n]+/g,rtrim:/[\s\r\n]+$/g,style:/<link.*?(rel="stylesheet"|type="text\/css")[^>]*>/i,style_href:/href=["\']([^"\']+)["\']/i},eventTypes={click:"MouseEvent",dblclick:"MouseEvent",mousedown:"MouseEvent",mousemove:"MouseEvent",mouseout:"MouseEvent",mouseover:"MouseEvent",mouseup:"MouseEvent",focus:"MouseEvent",blur:"MouseEvent"},lastWait=[],CHECK_FORM_ELEMENTS={tagName:/^INPUT|SELECT|TEXTAREA|BUTTON$/i},PRELOADING=1,PRELOADED=2,LOADING=3,LOADED=4,assets={},isAsync=null;BX.MSLEFT=1,BX.MSMIDDLE=2,BX.MSRIGHT=4,BX.AM_PM_UPPER=1,BX.AM_PM_LOWER=2,BX.AM_PM_NONE=!1,BX.ext=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},BX.extend=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,e.prototype.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)},BX.namespace=function(e){var t=e.split("."),n=BX;"BX"===t[0]&&(t=t.slice(1));for(var i=0;i<t.length;i++)void 0===n[t[i]]&&(n[t[i]]={}),n=n[t[i]];return n},BX.getClass=function(e){if(!BX.type.isNotEmptyString(e))return null;for(var t=null,n=window,i=e.split("."),r=0;r<i.length;r++){var o=i[r];if(!n[o])return null;t=n=n[o]}return t},BX.debug=function(){BX.debugStatus()&&(window.console&&window.console.log&&(window.console.log("BX.debug: ",arguments.length>0?arguments:arguments[0]),arguments[0]instanceof Error&&arguments[0].stack&&window.console.log("BX.debug error stack trace",arguments[0].stack)),window.console&&window.console.trace&&console.trace())},BX.debugEnable=function(e){e="boolean"!=typeof e||e,BX.debugEnableFlag=e},BX.debugStatus=function(){return BX.debugEnableFlag},BX.is_subclass_of=function(e,t){return e instanceof t||!!t.superclass&&BX.is_subclass_of(e,t.superclass)},BX.clearNodeCache=function(){return NODECACHE={},!1},BX.bitrix_sessid=function(){return BX.message("bitrix_sessid")},BX.create=function(e,t,n){var i;return n=n||document,null==t&&"object"==typeof e&&e.constructor!==String&&(t=e,e=e.tag),i=BX.browser.IsIE()&&!BX.browser.IsIE9()&&null!=t&&null!=t.props&&(t.props.name||t.props.id)?n.createElement("<"+e+(t.props.name?' name="'+t.props.name+'"':"")+(t.props.id?' id="'+t.props.id+'"':"")+">"):n.createElement(e),t?BX.adjust(i,t):i},BX.adjust=function(e,t){var n,i;if(!e.nodeType)return null;if(9==e.nodeType&&(e=e.body),t.attrs)for(n in t.attrs)t.attrs.hasOwnProperty(n)&&("class"==n||"className"==n?e.className=t.attrs[n]:"for"==n?e.htmlFor=t.attrs[n]:""==t.attrs[n]?e.removeAttribute(n):e.setAttribute(n,t.attrs[n]));if(t.style)for(n in t.style)t.style.hasOwnProperty(n)&&(e.style[n]=t.style[n]);if(t.props)for(n in t.props)t.props.hasOwnProperty(n)&&(e[n]=t.props[n]);if(t.events)for(n in t.events)t.events.hasOwnProperty(n)&&BX.bind(e,n,t.events[n]);if(t.dataset)for(n in t.dataset)t.dataset.hasOwnProperty(n)&&(e.dataset[n]=t.dataset[n]);if(t.children&&t.children.length>0)for(n=0,i=t.children.length;n<i;n++)BX.type.isNotEmptyString(t.children[n])?e.innerHTML+=t.children[n]:(BX.type.isElementNode(t.children[n])||BX.type.isTextNode(t.children[n]))&&e.appendChild(t.children[n]);else void 0!==t.text?(BX.cleanNode(e),e.appendChild((e.ownerDocument||document).createTextNode(t.text))):void 0!==t.html&&(e.innerHTML=t.html);return e},BX.replace=function(e,t){e.parentNode.replaceChild(t,e)},BX.remove=function(e){return e&&null!=e.parentNode&&e.parentNode.removeChild(e),e=null,null},BX.cleanNode=function(e,t){if(t=!!t,(e=BX(e))&&e.childNodes)for(;e.childNodes.length>0;)e.removeChild(e.firstChild);return e&&t&&(e=BX.remove(e)),e},BX.createFragment=function(e){var t=document.createDocumentFragment();if(!BX.type.isArray(e))return t;for(var n=0;n<e.length;n++)t.appendChild(e[n]);return t},BX.html=function(e,t,n){if(void 0===t)return e.innerHTML;void 0===n&&(n={}),t=BX.processHTML(t.toString());var i=[],r=[];if(void 0!==t.STYLE&&t.STYLE.length>0)for(var o in t.STYLE)i.push(t.STYLE[o]);if(void 0!==t.SCRIPT&&t.SCRIPT.length>0)for(var o in t.SCRIPT)t.SCRIPT[o].isInternal?r.push(t.SCRIPT[o].JS):i.push(t.SCRIPT[o].JS);n.htmlFirst&&void 0!==t.HTML&&e&&(e.innerHTML=t.HTML);var s=new BX.Promise,a=function(){for(var i in!n.htmlFirst&&void 0!==t.HTML&&e&&(e.innerHTML=t.HTML),r)BX.evalGlobal(r[i]);BX.type.isFunction(n.callback)&&n.callback(),s.fulfill()};return i.length>0?BX.load(i,a):a(),s},BX.insertAfter=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},BX.prepend=function(e,t){t.insertBefore(e,t.firstChild)},BX.append=function(e,t){t.appendChild(e)},BX.addClass=function(e,t){var n;if(e=BX(e),""==(t=BX.util.trim(t)))return e;if(e)if(e.className)if(e.classList&&t.indexOf(" ")<0)e.classList.add(t);else{n=(t||"").split(r.space);for(var i=" "+e.className+" ",o=0,s=n.length;o<s;o++)i.indexOf(" "+n[o]+" ")<0&&(e.className+=" "+n[o])}else e.className=t;return e},BX.removeClass=function(e,t){if((e=BX(e))&&e.className&&t)if(BX.type.isString(t))if(e.classList&&t.indexOf(" ")<0)e.classList.remove(t);else{for(var n=t.split(r.space),i=" "+e.className+" ",o=0,s=n.length;o<s;o++)i=i.replace(" "+n[o]+" "," ");e.className=BX.util.trim(i)}else e.className="";return e},BX.toggleClass=function(e,t){var n;if(e=BX(e),BX.type.isArray(t)){n=" "+e.className+" ";for(var i=0,r=t.length;i<r;i++)if(BX.hasClass(e,t[i])){n=(" "+n+" ").replace(" "+t[i]+" "," "),n+=" "+t[i>=r-1?0:i+1],i--;break}i==r?e.className+=" "+t[0]:e.className=n,e.className=BX.util.trim(e.className)}else BX.type.isNotEmptyString(t)&&(e.classList?e.classList.toggle(t):(n=e.className,BX.hasClass(e,t)?n=(" "+n+" ").replace(" "+t+" "," "):n+=" "+t,e.className=BX.util.trim(n)));return e},BX.hasClass=function(e,t){return(e=BX(e))&&BX.type.isDomNode(e)?!(!e.className||!t)&&(e.classList&&t&&t.indexOf(" ")<0?e.classList.contains(BX.util.trim(t)):(" "+e.className+" ").indexOf(" "+t+" ")>=0):(BX.debug(e),!1)},BX.setOpacity=function(e,t){null!=e.style.filter?(e.style.zoom="100%",e.style.filter=100==t?"":"alpha(opacity="+t.toString()+")"):null!=e.style.opacity?e.style.opacity=(t/100).toString():null!=e.style.MozOpacity&&(e.style.MozOpacity=(t/100).toString())},BX.hoverEvents=function(e){return e?BX.adjust(e,{events:BX.hoverEvents()}):{mouseover:BX.hoverEventsHover,mouseout:BX.hoverEventsHout}},BX.hoverEventsHover=function(){BX.addClass(this,"bx-hover"),this.BXHOVER=!0},BX.hoverEventsHout=function(){BX.removeClass(this,"bx-hover"),this.BXHOVER=!1},BX.focusEvents=function(e){return e?BX.adjust(e,{events:BX.focusEvents()}):{mouseover:BX.focusEventsFocus,mouseout:BX.focusEventsBlur}},BX.focusEventsFocus=function(){BX.addClass(this,"bx-focus"),this.BXFOCUS=!0},BX.focusEventsBlur=function(){BX.removeClass(this,"bx-focus"),this.BXFOCUS=!1},BX.setUnselectable=function(e){e.style.userSelect=e.style.MozUserSelect=e.style.WebkitUserSelect=e.style.KhtmlUserSelect=e.style="none",e.setAttribute("unSelectable","on")},BX.setSelectable=function(e){e.style.userSelect=e.style.MozUserSelect=e.style.WebkitUserSelect=e.style.KhtmlUserSelect=e.style="",e.removeAttribute("unSelectable")},BX.styleIEPropertyName=function(e){if("float"==e)e=BX.browser.IsIE()?"styleFloat":"cssFloat";else{var t=BX.browser.isPropertySupported(e);if(t)e=t;else{var n=/(\-([a-z]){1})/g;n.test(e)&&(e=e.replace(n,(function(){return arguments[2].toUpperCase()})))}}return e},BX.style=function(e,t,n){if(!BX.type.isElementNode(e))return null;if(null==n){var i;if(e.currentStyle)i=e.currentStyle[BX.styleIEPropertyName(t)];else if(window.getComputedStyle){var r=BX.browser.isPropertySupported(t,!0);r&&(t=r),i=BX.GetContext(e).getComputedStyle(e,null).getPropertyValue(t)}return i||(i=""),i}return e.style[BX.styleIEPropertyName(t)]=n,e},BX.focus=function(e){try{return e.focus(),!0}catch(e){return!1}},BX.firstChild=function(e){for(var t=e.firstChild;t&&!BX.type.isElementNode(t);)t=t.nextSibling;return t},BX.lastChild=function(e){for(var t=e.lastChild;t&&!BX.type.isElementNode(t);)t=t.previousSibling;return t},BX.previousSibling=function(e){for(var t=e.previousSibling;t&&!BX.type.isElementNode(t);)t=t.previousSibling;return t},BX.nextSibling=function(e){for(var t=e.nextSibling;t&&!BX.type.isElementNode(t);)t=t.nextSibling;return t},BX.findChildrenByClassName=function(e,t,n){if(!e||!e.childNodes)return null;var r=[];if(void 0===e.getElementsByClassName)n=!1!==n,r=BX.findChildren(e,{className:t},n);else{var o=e.getElementsByClassName(t);for(i=0,l=o.length;i<l;i++)r[i]=o[i]}return r},BX.findChildByClassName=function(e,t,n){if(!e||!e.childNodes)return null;var i=null;if(void 0===e.getElementsByClassName)n=!1!==n,i=BX.findChild(e,{className:t},n);else{var r=e.getElementsByClassName(t);i=r&&void 0!==r[0]?r[0]:null}return i},BX.findChildren=function(e,t,n){return BX.findChild(e,t,n,!0)},BX.findChild=function(e,t,n,i){if(!e||!e.childNodes)return null;n=!!n,i=!!i;for(var r=e.childNodes.length,o=[],s=0;s<r;s++){var a=e.childNodes[s];if(_checkNode(a,t)){if(!i)return a;o.push(a)}if(1==n){var l=BX.findChild(a,t,n,i);if(l){if(!i)return l;o=BX.util.array_merge(o,l)}}}return i||o.length>0?o:null},BX.findParent=function(e,t,n){if(!e)return null;for(var i=e;i.parentNode;){var r=i.parentNode;if(_checkNode(r,t))return r;if(i=r,n&&(BX.type.isFunction(n)||"object"==typeof n))if(BX.type.isElementNode(n)){if(i==n)break}else if(_checkNode(i,n))break}return null},BX.findNextSibling=function(e,t){if(!e)return null;for(var n=e;n.nextSibling;){var i=n.nextSibling;if(_checkNode(i,t))return i;n=i}return null},BX.findPreviousSibling=function(e,t){if(!e)return null;for(var n=e;n.previousSibling;){var i=n.previousSibling;if(_checkNode(i,t))return i;n=i}return null},BX.checkNode=function(e,t){return _checkNode(e,t)},BX.findFormElements=function(e){BX.type.isString(e)&&(e=document.forms[e]||BX(e));var t=[];return BX.type.isElementNode(e)&&(t="FORM"==e.tagName.toUpperCase()?e.elements:BX.findChildren(e,CHECK_FORM_ELEMENTS,!0)),t},BX.isParentForNode=function(e,t){if(!BX.type.isDomNode(e)||!BX.type.isDomNode(t))return!1;for(;;){if(e==t)return!0;if(!t||!t.parentNode)break;t=t.parentNode}return!1},BX.clone=function(e,t){var n,i,r;if(!1!==t&&(t=!0),null===e)return null;if(BX.type.isDomNode(e))n=e.cloneNode(t);else if("object"==typeof e)if(BX.type.isArray(e))for(n=[],i=0,r=e.length;i<r;i++)"object"==typeof e[i]&&t?n[i]=BX.clone(e[i],t):n[i]=e[i];else for(i in n={},e.constructor&&(n=BX.type.isDate(e)?new Date(e):new e.constructor),e)"object"==typeof e[i]&&t?n[i]=BX.clone(e[i],t):n[i]=e[i];else n=e;return n},BX.getCaretPosition=function(e){var t=0;if(e.selectionStart||0==e.selectionStart)t=e.selectionStart;else if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}return t},BX.setCaretPosition=function(e,t){if(BX.isNodeInDom(e)&&!BX.isNodeHidden(e)&&!e.disabled)if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},BX.merge=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return{};for(var t=e.shift(),n=0;n<e.length;n++)for(var i in e[n])if(void 0!==e[n]&&null!=e[n]&&e[n].hasOwnProperty(i)){if(void 0===e[n][i]||null==e[n][i])continue;if("object"!=typeof e[n][i]||BX.type.isDomNode(e[n][i])||void 0!==e[n][i].isUIWidget)t[i]=e[n][i];else{var r="length"in e[n][i];"object"!=typeof t[i]&&(t[i]=r?[]:{}),r?BX.util.array_merge(t[i],e[n][i]):BX.merge(t[i],e[n][i])}}return t},BX.mergeEx=function(){var e=Array.prototype.slice.call(arguments);if(e.length<2)return{};for(var t=e.shift(),n=0;n<e.length;n++)for(var i in e[n])void 0!==e[n]&&null!=e[n]&&e[n].hasOwnProperty(i)&&(BX.type.isPlainObject(e[n][i])&&BX.type.isPlainObject(t[i])?BX.mergeEx(t[i],e[n][i]):t[i]=BX.type.isPlainObject(e[n][i])?BX.clone(e[n][i]):e[n][i]);return t},BX.bind=function(e,t,n){if(e&&"object"==typeof e){if("mousewheel"===t)BX.bind(e,"DOMMouseScroll",n);else if("transitionend"===t)BX.bind(e,"webkitTransitionEnd",n),BX.bind(e,"msTransitionEnd",n),BX.bind(e,"oTransitionEnd",n);else{if("bxchange"===t)return BX.bind(e,"change",n),BX.bind(e,"cut",n),BX.bind(e,"paste",n),BX.bind(e,"drop",n),void BX.bind(e,"keyup",n);"fullscreenchange"===t&&(document.cancelFullScreen?BX.bind(e,"fullscreenchange",n):document.mozCancelFullScreen?BX.bind(e,"mozfullscreenchange",n):document.webkitCancelFullScreen&&BX.bind(e,"webkitfullscreenchange",n))}if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,BX.proxy(n,e));else try{e["on"+t]=n}catch(e){BX.debug(e)}var i=eventsList.get(e)||{};BX.type.isArray(i[t])||(i[t]=[]),i[t].push(n),eventsList.set(e,i)}},BX.unbind=function(e,t,n){if(e){if("mousewheel"===t)BX.unbind(e,"DOMMouseScroll",n);else if("transitionend"===t)BX.unbind(e,"webkitTransitionEnd",n),BX.unbind(e,"msTransitionEnd",n),BX.unbind(e,"oTransitionEnd",n);else if("bxchange"===t)return BX.unbind(e,"change",n),BX.unbind(e,"cut",n),BX.unbind(e,"paste",n),BX.unbind(e,"drop",n),void BX.unbind(e,"keyup",n);e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,BX.proxy(n,e)):e["on"+t]=null;var i=eventsList.get(e);i&&BX.type.isArray(i[t])&&(i[t]=i[t].filter((function(e){return e!==n})))}},BX.getEventButton=function(e){var t=0;if(void 0!==(e=e||window.event).which)switch(e.which){case 1:t|=BX.MSLEFT;break;case 2:t|=BX.MSMIDDLE;break;case 3:t|=BX.MSRIGHT}else void 0!==e.button&&(t=event.button);return t||BX.MSLEFT},BX.unbindAll=function(e){var t=eventsList.get(e);if(e)for(var n in eventsList.delete(e),t)t[n].forEach((function(t){BX.unbind(e,n,t)}))};var captured_events=null,_bind=null;BX.CaptureEvents=function(e,t){_bind||(_bind=BX.bind,captured_events=[],BX.bind=function(n,i,r){n===e&&i===t&&captured_events.push(r),_bind.apply(this,arguments)})},BX.CaptureEventsGet=function(){if(_bind){BX.bind=_bind;var e=captured_events;return _bind=null,captured_events=null,e}return null},BX.fireEvent=function(e,t){var n=!1,i=null;if(BX.type.isDomNode(e))if(n=!0,document.createEventObject)"MouseEvent"!=eventTypes[t]&&((i=document.createEventObject()).type=t,n=e.fireEvent("on"+t,i)),e[t]&&e[t]();else{switch(i=null,eventTypes[t]){case"MouseEvent":i=document.createEvent("MouseEvent");try{i.initMouseEvent(t,!0,!0,top,1,0,0,0,0,0,0,0,0,0,null)}catch(e){i.initMouseEvent(t,!0,!0,window,1,0,0,0,0,0,0,0,0,0,null)}break;default:(i=document.createEvent("Event")).initEvent(t,!0,!0)}n=e.dispatchEvent(i)}return n},BX.getWheelData=function(e){return(e=e||window.event).wheelData=e.detail?-1*e.detail:e.wheelDelta/40,e.wheelData},BX.proxy_context=null,BX.delegate=function(e,t){return e&&t?function(){var n=BX.proxy_context;BX.proxy_context=this;var i=e.apply(t,arguments);return BX.proxy_context=n,i}:e},BX.delegateLater=function(e,t,n){return function(){if(t[e]){var i=BX.proxy_context;BX.proxy_context=this;var r=t[e].apply(n||t,arguments);return BX.proxy_context=i,r}return null}},BX.proxy=function(e,t){return getObjectDelegate(e,t,proxyList)},BX.defer=function(e,t){return t?BX.defer_proxy(e,t):function(){var t=arguments;setTimeout((function(){e.apply(this,t)}),10)}},BX.defer_proxy=function(e,t){return getObjectDelegate(e,t,deferList,BX.defer)},BX.bindOnce=function(e,t,n){return BX.bind(e,t,BX.once(e,t,n))},BX.once=function(e,t,n){var i=function(){BX.unbind(e,t,i),n.apply(this,arguments)};return i},BX.bindDelegate=function(e,t,n,i){var r=BX.delegateEvent(n,i);return BX.bind(e,t,r),r},BX.delegateEvent=function(e,t){return function(n){for(var i=(n=n||window.event).target||n.srcElement;i!=this;){if(_checkNode(i,e))return t.call(i,n);if(!i||!i.parentNode)break;i=i.parentNode}return null}},BX.False=function(){return!1},BX.DoNothing=function(){},BX.denyEvent=function(e,t){deniedEvents.push([e,t,e["on"+t]]),e["on"+t]=BX.DoNothing},BX.allowEvent=function(e,t){for(var n=0,i=deniedEvents.length;n<i;n++)if(deniedEvents[n][0]==e&&deniedEvents[n][1]==t)return e["on"+t]=deniedEvents[n][2],void BX.util.deleteFromArray(deniedEvents,n)},BX.fixEventPageXY=function(e){return BX.fixEventPageX(e),BX.fixEventPageY(e),e},BX.fixEventPageX=function(e){return null==e.pageX&&null!=e.clientX&&(e.pageX=e.clientX+(document.documentElement&&document.documentElement.scrollLeft||document.body&&document.body.scrollLeft||0)-(document.documentElement.clientLeft||0)),e},BX.fixEventPageY=function(e){return null==e.pageY&&null!=e.clientY&&(e.pageY=e.clientY+(document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0)-(document.documentElement.clientTop||0)),e},BX.PreventDefault=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},BX.eventReturnFalse=function(e){return(e=e||window.event)&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},BX.eventCancelBubble=function(e){(e=e||window.event)&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},BX.addCustomEvent=function(e,t,n){if(BX.type.isString(e)&&(n=t,t=e,e=window),BX.type.isFunction(n)&&BX.type.isNotEmptyString(t)&&BX.type.isMapKey(e)){t=t.toLowerCase();var i=customEvents.get(e)||{};i[t]=BX.type.isArray(i[t])?i[t]:[],n.__bxSort=++customEventsCnt,i[t].push(n),customEvents.set(e,i)}},BX.removeCustomEvent=function(e,t,n){BX.type.isString(e)&&(n=t,t=e,e=window),t=t.toLowerCase();var i=customEvents.get(e);if(i&&BX.type.isArray(i[t]))for(var r=i[t].length-1;r>=0;r--)i[t][r]===n&&i[t].splice(r,1)},BX.removeAllCustomEvents=function(e,t){BX.type.isString(e)&&(t=e,e=window),t=t.toLowerCase();var n=customEvents.get(e);n&&delete n[t]},BX.onCustomEvent=function(e,t,n,i){BX.type.isString(e)&&(i=n,n=t,t=e,e=window),n||(n=[]),t=t.toLowerCase();var r=customEvents.get(window),o=r&&BX.type.isArray(r[t])?r[t]:[],s=[];if(e!==window&&BX.type.isMapKey(e)){var a=customEvents.get(e);a&&BX.type.isArray(a[t])&&(s=a[t])}var l=o.concat(s);l.sort((function(e,t){return e.__bxSort-t.__bxSort})),l.forEach((function(t){-1===o.indexOf(t)&&-1===s.indexOf(t)||t.apply(e,!0===i?BX.clone(n):n)}))},BX.bindDebouncedChange=function(e,t,n,i,r){r=r||window,i=i||300;var o="bx-dc-previous-value";BX.data(e,o,e.value);var s=function(t,n){var i=BX.data(e,o);void 0!==i&&i==n||("object"!=typeof r?t(n):t.apply(r,[n]))},a=BX.debounce((function(){var n=e.value;s(t,n),BX.data(e,o,n)}),i);if(BX.bind(e,"keyup",a),BX.bind(e,"change",a),BX.bind(e,"input",a),BX.type.isFunction(n)){var l=function(){s(n,e.value)};BX.bind(e,"keyup",l),BX.bind(e,"change",l),BX.bind(e,"input",l)}},BX.parseJSON=function(data,context){var result=null;if(BX.type.isNotEmptyString(data))try{data.indexOf("\n")>=0?eval("result = "+data):result=new Function("return "+data)()}catch(e){BX.onCustomEvent(context,"onParseJSONFailure",[data,context])}else if(BX.type.isPlainObject(data))return data;return result},BX.isReady=!1,BX.ready=function(e){bindReady(),BX.type.isFunction(e)?BX.isReady?e.call(document):readyList&&readyList.push(e):BX.debug("READY: not a function! ",e)},BX.submit=function(e,t,n,i){e["BXFormSubmit_"+(t=t||"save")]||(e["BXFormSubmit_"+t]=e.appendChild(BX.create("INPUT",{props:{type:"submit",name:t,value:n||"Y"},style:{display:"none"}}))),e.sessid&&(e.sessid.value=BX.bitrix_sessid()),setTimeout(BX.delegate((function(){BX.fireEvent(this,"click"),i&&i()}),e["BXFormSubmit_"+t]),10)},BX.debounce=function(e,t,n){var i=0;return function(){n=n||this;var r=arguments;clearTimeout(i),i=setTimeout((function(){e.apply(n,r)}),t)}},BX.throttle=function(e,t,n){var i,r=0,o=null;return function(){if(n=n||this,o=arguments,i=!0,!r){var s=function(){i?(e.apply(n,o),i=!1,r=setTimeout(s,t)):r=null};s()}}},BX.browser={IsIE:function(){return bIE},IsIE6:function(){return/MSIE 6/i.test(navigator.userAgent)},IsIE7:function(){return/MSIE 7/i.test(navigator.userAgent)},IsIE8:function(){return/MSIE 8/i.test(navigator.userAgent)},IsIE9:function(){return!!document.documentMode&&document.documentMode>=9},IsIE10:function(){return!!document.documentMode&&document.documentMode>=10},IsIE11:function(){return BX.browser.DetectIeVersion()>=11},IsOpera:function(){return bOpera},IsSafari:function(){return bSafari},IsFirefox:function(){return bFirefox},IsChrome:function(){return bChrome},IsMac:function(){return/Macintosh/i.test(navigator.userAgent)},IsAndroid:function(){return/Android/i.test(navigator.userAgent)},IsIOS:function(){return/(iPad;)|(iPhone;)/i.test(navigator.userAgent)},IsMobile:function(){return/(ipad|iphone|android|mobile|touch)/i.test(navigator.userAgent)},DetectIeVersion:function(){if(BX.browser.IsOpera()||BX.browser.IsSafari()||BX.browser.IsFirefox()||BX.browser.IsChrome())return-1;var e=-1;(window.MSStream&&!window.ActiveXObject&&"ActiveXObject"in window?e=11:BX.browser.IsIE10()?e=10:BX.browser.IsIE9()?e=9:BX.browser.IsIE()&&(e=8),-1==e||8==e)&&("Microsoft Internet Explorer"==navigator.appName?null!=new RegExp("MSIE ([0-9]+[.0-9]*)").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)):"Netscape"==navigator.appName&&(e=11,null!=new RegExp("Trident/.*rv:([0-9]+[.0-9]*)").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1))));return e},DetectAndroidVersion:function(){return null!=new RegExp("Android ([0-9]+[.0-9]*)").exec(navigator.userAgent)?parseFloat(RegExp.$1):0},IsDoctype:function(e){return(e=e||document).compatMode?"CSS1Compat"==e.compatMode:e.documentElement&&e.documentElement.clientHeight},SupportLocalStorage:function(){return!!BX.localStorage&&!!BX.localStorage.checkBrowser()},addGlobalClass:function(){var e="bx-core";if(!BX.hasClass(document.documentElement,e)){BX.browser.IsIOS()?e+=" bx-ios":BX.browser.IsMac()?e+=" bx-mac":BX.browser.IsAndroid()&&(e+=" bx-android"),e+=BX.browser.IsMobile()?" bx-touch":" bx-no-touch",e+=BX.browser.isRetina()?" bx-retina":" bx-no-retina";var t=-1;/AppleWebKit/.test(navigator.userAgent)?e+=" bx-chrome":(t=BX.browser.DetectIeVersion())>0?(e+=" bx-ie bx-ie"+t,t>7&&t<10&&!BX.browser.IsDoctype()&&(e+=" bx-quirks")):/Opera/.test(navigator.userAgent)?e+=" bx-opera":/Gecko/.test(navigator.userAgent)&&(e+=" bx-firefox"),BX.addClass(document.documentElement,e)}},isPropertySupported:function(e,t){if(!BX.type.isNotEmptyString(e))return!1;var n=e.indexOf("-")>-1?function(e){var t=/(\-([a-z]){1})/g;return t.test(e)?e.replace(t,(function(){return arguments[2].toUpperCase()})):e}(e):e;t=!!t;for(var i=n.charAt(0).toUpperCase()+n.slice(1),r=(n+" "+["Webkit","Moz","O","ms"].join(i+" ")+i).split(" "),o=document.body||document.documentElement,s=0;s<r.length;s++){var a=r[s];if(void 0!==o.style[a]){var l=a==n?"":"-"+a.substr(0,a.length-n.length).toLowerCase()+"-";return t?l+u(n):a}}function u(e){return e.replace(/([A-Z])/g,(function(){return"-"+arguments[1].toLowerCase()}))}return!1},addGlobalFeatures:function(e,t){if(BX.type.isArray(e)){for(var n=[],i=0;i<e.length;i++){var r=!!BX.browser.isPropertySupported(e[i]);n.push("bx-"+(r?"":"no-")+e[i].toLowerCase())}BX.addClass(document.documentElement,n.join(" "))}},isRetina:function(){return window.devicePixelRatio&&window.devicePixelRatio>=2}},BX.show=function(e,t){!e.BXDISPLAY&&_checkDisplay(e,t)||(e.style.display=e.BXDISPLAY)},BX.hide=function(e,t){e.BXDISPLAY||_checkDisplay(e,t),e.style.display="none"},BX.toggle=function(e,t){if(!t&&BX.type.isElementNode(e)){(e.BXDISPLAY?!_checkDisplay(e):"none"==e.style.display)?BX.show(e):BX.hide(e)}else if(BX.type.isArray(t)){for(var n=0,i=t.length;n<i;n++)if(e==t[n]){e=t[n==i-1?0:n+1];break}n==i&&(e=t[0])}return e},BX.util={array_values:function(e){if(!BX.type.isArray(e))return BX.util._array_values_ob(e);for(var t=[],n=0,i=e.length;n<i;n++)null!==e[n]&&void 0!==e[n]&&t.push(e[n]);return t},_array_values_ob:function(e){var t=[];for(var n in e)null!==e[n]&&void 0!==e[n]&&t.push(e[n]);return t},array_keys:function(e){if(!BX.type.isArray(e))return BX.util._array_keys_ob(e);for(var t=[],n=0,i=e.length;n<i;n++)null!==e[n]&&void 0!==e[n]&&t.push(n);return t},_array_keys_ob:function(e){var t=[];for(var n in e)null!==e[n]&&void 0!==e[n]&&t.push(n);return t},object_keys:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},array_merge:function(e,t){BX.type.isArray(e)||(e=[]),BX.type.isArray(t)||(t=[]);var n=e.length,i=0;if("number"==typeof t.length)for(var r=t.length;i<r;i++)e[n++]=t[i];else for(;void 0!==t[i];)e[n++]=t[i++];return e.length=n,e},array_flip:function(e){var t={};for(var n in e)t[e[n]]=n;return t},array_diff:function(e,t,n){n=BX.type.isFunction(n)?n:null;var i,r,o,s={},a=[];for(i=0,r=t.length;i<r;i++)o=t[i],s[n?n(o):o]=!0;for(i=0,r=e.length;i<r;i++)o=e[i],void 0===s[n?n(o):o]&&a.push(o);return a},array_unique:function(e){var t,n=0,i=e.length;if(i<2)return e;for(;n<i-1;n++)for(t=n+1;t<i;t++)e[n]==e[t]&&(e.splice(t--,1),i--);return e},in_array:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},array_search:function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return n;return-1},object_search_key:function(e,t){if(void 0!==t[e])return t[e];for(var n in t)if("object"==typeof t[n]){var i=BX.util.object_search_key(e,t[n]);if(!1!==i)return i}return!1},trim:function(e){return BX.type.isString(e)?e.replace(r.ltrim,"").replace(r.rtrim,""):e},urlencode:function(e){return encodeURIComponent(e)},deleteFromArray:function(e,t){return e.slice(0,t).concat(e.slice(t+1))},insertIntoArray:function(e,t,n){return e.slice(0,t).concat([n]).concat(e.slice(t))},htmlspecialchars:function(e){return"string"==typeof e&&e.replace?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},htmlspecialcharsback:function(e){return"string"==typeof e&&e.replace?e.replace(/\&quot;/g,'"').replace(/&#39;/g,"'").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&amp;/g,"&").replace(/\&nbsp;/g," "):e},preg_quote:function(e,t){return e.replace?e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&"):e},jsencode:function(e){if(!e||!e.replace)return e;for(var t=[{c:"\\\\",r:"\\\\"},{c:"\\t",r:"\\t"},{c:"\\n",r:"\\n"},{c:"\\r",r:"\\r"},{c:'"',r:'\\"'},{c:"'",r:"\\'"},{c:"<",r:"\\x3C"},{c:">",r:"\\x3E"},{c:"\\u2028",r:"\\u2028"},{c:"\\u2029",r:"\\u2029"}],n=0;n<t.length;n++)e=e.replace(new RegExp(t[n].c,"g"),t[n].r);return e},getCssName:function(e){return BX.type.isNotEmptyString(e)?e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})):""},getJsName:function(e){var t=/\-([a-z]){1}/g;return t.test(e)?e.replace(t,(function(e,t){return t.toUpperCase()})):e},nl2br:function(e){return e&&e.replace?e.replace(/([^>])\n/g,"$1<br/>"):e},str_pad:function(e,t,n,i){return n=n||" ",i=i||"right",e=e.toString(),"left"==i?BX.util.str_pad_left(e,t,n):BX.util.str_pad_right(e,t,n)},str_pad_left:function(e,t,n){var i=e.length,r=n.length;if(i>=t)return e;for(;i<t;i+=r)e=n+e;return e},str_pad_right:function(e,t,n){var i=e.length,r=n.length;if(i>=t)return e;for(;i<t;i+=r)e+=n;return e},strip_tags:function(e){return e.split(/<[^>]+>/g).join("")},strip_php_tags:function(e){return e.replace(/<\?(.|[\r\n])*?\?>/g,"")},popup:function(e,t,n){var i,r;return BX.browser.IsOpera()?(i=document.body.offsetWidth,r=document.body.offsetHeight):(i=screen.width,r=screen.height),window.open(e,"","status=no,scrollbars=yes,resizable=yes,width="+t+",height="+n+",top="+Math.floor((r-n)/2-14)+",left="+Math.floor((i-t)/2-5))},shuffle:function(e){for(var t,n,i=e.length;0!==i;)n=Math.floor(Math.random()*i),t=e[i-=1],e[i]=e[n],e[n]=t;return e},objectSort:function(e,t,n){n="asc"==n?"asc":"desc";var i,r=[];for(i in e)e.hasOwnProperty(i)&&e[i][t]&&r.push([i,e[i][t]]);"asc"==n?r.sort((function(e,t){var n,i;return(n=BX.type.isDate(e[1])?e[1].getTime():isNaN(e[1])?e[1].toString().toLowerCase():parseInt(e[1]))>(i=BX.type.isDate(t[1])?t[1].getTime():isNaN(t[1])?t[1].toString().toLowerCase():parseInt(t[1]))?1:n<i?-1:0})):r.sort((function(e,t){var n,i;return(n=BX.type.isDate(e[1])?e[1].getTime():isNaN(e[1])?e[1].toString().toLowerCase():parseInt(e[1]))<(i=BX.type.isDate(t[1])?t[1].getTime():isNaN(t[1])?t[1].toString().toLowerCase():parseInt(t[1]))?1:n>i?-1:0}));var o=Array();for(i=0;i<r.length;i++)o.push(e[r[i][0]]);return o},objectMerge:function(){return BX.mergeEx.apply(window,arguments)},objectClone:function(e){return BX.clone(e,!0)},hex2rgb:function(e){for(var t=e.replace(/[# ]/g,"").replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3").match(/.{2}/g),n=0;n<3;n++)t[n]=parseInt(t[n],16);return{r:t[0],g:t[1],b:t[2]}},remove_url_param:function(e,t){var n,i;if(BX.type.isArray(t))for(var r=0;r<t.length;r++)e=BX.util.remove_url_param(e,t[r]);else(n=e.indexOf("?"))>=0&&n!=e.length-1&&(i=e.substr(n+1),e=e.substr(0,n+1),i=(i=i.replace(new RegExp("(^|&)"+t+"=[^&#]*","i"),"")).replace(/^&/,""),BX.type.isNotEmptyString(i)?e+=i:e=e.substr(0,e.length-1));return e},add_url_param:function(e,t){var n,i,r="",o="";for(n in t)e=this.remove_url_param(e,n),r+=(""!=r?"&":"")+n+"="+t[n];return(i=e.indexOf("#"))>=0&&(o=e.substr(i),e=e.substr(0,i)),e=(i=e.indexOf("?"))>=0?e+(i!=e.length-1?"&":"")+r+o:e+"?"+r+o},buildQueryString:function(e){var t="";for(var n in e){var i=e[n];BX.type.isArray(i)?i.forEach((function(e,i){t+=encodeURIComponent(n+"["+i+"]")+"="+encodeURIComponent(e)+"&"})):t+=encodeURIComponent(n)+"="+encodeURIComponent(i)+"&"}return t.length>0&&(t=t.substr(0,t.length-1)),t},even:function(e){return parseInt(e)%2==0},hashCode:function(e){if(!BX.type.isNotEmptyString(e))return 0;for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},getRandomString:function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n=t.length;e=parseInt(e),(isNaN(e)||e<=0)&&(e=8);for(var i="",r=0;r<e;r++)i+=t.charAt(Math.floor(Math.random()*n));return i},number_format:function(e,t,n,i){var r,o,s="";return t=Math.abs(t),(isNaN(t)||t<0)&&(t=2),n=n||",",void 0===i&&(i="."),(e=(+e||0).toFixed(t))<0&&(s="-",e=-e),s+((o=(r=parseInt(e,10)+"").length>3?r.length%3:0)?r.substr(0,o)+i:"")+r.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?n+Math.abs(e-r).toFixed(t).replace(/-/,"0").slice(2):"")},getExtension:function(e){var t=(e=e||"").split("?")[0].split(".");return t[t.length-1].toLowerCase()},addObjectToForm:function(e,t,n){for(var i in BX.type.isString(n)||(n=""),e)if(e.hasOwnProperty(i)){var r=e[i],o=""!==n?n+"["+i+"]":i;if(BX.type.isArray(r)){for(var s={},a=0;a<r.length;a++)s[a]=r[a];BX.util.addObjectToForm(s,t,o)}else BX.type.isPlainObject(r)?BX.util.addObjectToForm(r,t,o):""!==(r=BX.type.isFunction(r.toString)?r.toString():"")&&t.appendChild(BX.create("INPUT",{attrs:{type:"hidden",name:o,value:r}}))}},observe:function(e,t){return console.error("BX.util.observe: function is no longer supported by browser."),!1},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},BX.type={isString:function(e){return""===e||!!e&&("string"==typeof e||e instanceof String)},isNotEmptyString:function(e){return!!BX.type.isString(e)&&e.length>0},isBoolean:function(e){return!0===e||!1===e},isNumber:function(e){return 0===e||!!e&&("number"==typeof e||e instanceof Number)},isFunction:function(e){return null!==e&&("function"==typeof e||e instanceof Function)},isElementNode:function(e){return e&&"object"==typeof e&&"nodeType"in e&&1==e.nodeType&&e.tagName&&"SCRIPT"!=e.tagName.toUpperCase()&&"STYLE"!=e.tagName.toUpperCase()&&"LINK"!=e.tagName.toUpperCase()},isDomNode:function(e){return e&&"object"==typeof e&&"nodeType"in e},isTextNode:function(e){return e&&"object"==typeof e&&"nodeType"in e&&3==e.nodeType},isArray:function(e){return e&&"[object Array]"==Object.prototype.toString.call(e)},isDate:function(e){return e&&"[object Date]"==Object.prototype.toString.call(e)},isPlainObject:function(e){if(!e||"object"!=typeof e||e.nodeType)return!1;var t,n=Object.prototype.hasOwnProperty;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||n.call(e,t)},isNotEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1},stringToInt:function(e){var t=parseInt(e);return isNaN(t)?0:t},isMapKey:function(e){return e&&("object"==typeof e||"function"==typeof e)}},BX.validation={checkIfEmail:function(e){var t="[=a-z0-9_+~'!$&*^`|#%/?{}-]";return new RegExp("^\\s*"+t+"+(\\."+t+"+)*@([a-z0-9-]+\\.)+[a-z0-9-]{2,20}\\s*$","i").test(e)},checkIfPhone:function(e){return new RegExp(void 0===BX.PhoneNumber?BX.PhoneNumber.getValidNumberPattern():"^\\s*\\+?s*[0-9(-)\\s]+\\s*$","i").test(e)}},BX.prop={get:function(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n},getObject:function(e,t,n){return e&&BX.type.isPlainObject(e[t])?e[t]:n},getElementNode:function(e,t,n){return e&&BX.type.isElementNode(e[t])?e[t]:n},getArray:function(e,t,n){return e&&BX.type.isArray(e[t])?e[t]:n},getFunction:function(e,t,n){return e&&BX.type.isFunction(e[t])?e[t]:n},getNumber:function(e,t,n){if(!e||!e.hasOwnProperty(t))return n;var i=e[t];return BX.type.isNumber(i)?i:(i=parseFloat(i),isNaN(i)?n:i)},getInteger:function(e,t,n){if(!e||!e.hasOwnProperty(t))return n;var i=e[t];return BX.type.isNumber(i)?i:(i=parseInt(i),isNaN(i)?n:i)},getBoolean:function(e,t,n){if(!e||!e.hasOwnProperty(t))return n;var i=e[t];return BX.type.isBoolean(i)?i:BX.type.isString(i)?"true"===i.toLowerCase():!!i},getString:function(e,t,n){if(!e||!e.hasOwnProperty(t))return n;var i=e[t];return BX.type.isString(i)?i:i?i.toString():""},extractDate:function(e){return BX.type.isDate(e)||(e=new Date),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}},BX.isNodeInDom=function(e,t){return e===(t||document)||!!e.parentNode&&BX.isNodeInDom(e.parentNode)},BX.isNodeHidden=function(e){return e!==document&&("none"==BX.style(e,"display")||(!e.parentNode||BX.isNodeHidden(e.parentNode)))},BX.evalPack=function(e){for(;e.length>0;){var t=e.shift();if("SCRIPT_EXT"==t.TYPE||"SCRIPT_SRC"==t.TYPE)return void BX.loadScript(t.DATA,(function(){BX.evalPack(e)}));"SCRIPT"==t.TYPE&&BX.evalGlobal(t.DATA)}},BX.evalGlobal=function(e){if(e){var t=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script");n.type="text/javascript",BX.browser.IsIE()?n.text=e:n.appendChild(document.createTextNode(e)),t.insertBefore(n,t.firstChild),t.removeChild(n)}},BX.processHTML=function(e,t){for(var n,i,o,s,a,l=[],u=[],c=[],d=r.script.lastIndex=r.script_end.lastIndex=0;null!==(n=r.script.exec(e));){r.script_end.lastIndex=r.script.lastIndex;var p=r.script_end.exec(e);if(null===p)break;var f=!1;if(null!==(a=n[1].match(r.script_type))&&("text/html"!=a[1]&&"text/template"!=a[1]||(f=!0)),f)c.push([d,r.script_end.lastIndex-d]);else{c.push([d,n.index-d]);var h=t||"-1"!=n[1].indexOf("bxrunfirst");if(null!==(o=n[1].match(r.script_src)))l.push({bRunFirst:h,isInternal:!1,JS:o[1]});else{var m=n.index+n[0].length,B=e.substr(m,p.index-m);l.push({bRunFirst:h,isInternal:!0,JS:B})}}d=p.index+9,r.script.lastIndex=d}c.push([d,0===d?e.length:e.length-d]);for(var g="",X=0,y=c.length;X<y;X++)g+=e.substr(c[X][0],c[X][1]);for(;null!==(i=g.match(r.style));)null!==(s=i[0].match(r.style_href))&&i[0].indexOf('media="')<0&&u.push(s[1]),g=g.replace(i[0],"");return{HTML:g,SCRIPT:l,STYLE:u}},BX.garbage=function(e,t){garbageCollectors.push({callback:e,context:t})},BX.GetDocElement=function(e){return e=e||document,BX.browser.IsDoctype(e)?e.documentElement:e.body},BX.GetContext=function(e){return BX.type.isElementNode(e)?e.ownerDocument.parentWindow||e.ownerDocument.defaultView||window:BX.type.isDomNode(e)&&(e.parentWindow||e.defaultView)||window},BX.GetWindowInnerSize=function(e){var t,n;return e=e||document,window.innerHeight?(t=BX.GetContext(e).innerWidth,n=BX.GetContext(e).innerHeight):e.documentElement&&(e.documentElement.clientHeight||e.documentElement.clientWidth)?(t=e.documentElement.clientWidth,n=e.documentElement.clientHeight):e.body&&(t=e.body.clientWidth,n=e.body.clientHeight),{innerWidth:t,innerHeight:n}},BX.GetWindowScrollPos=function(e){var t,n;return e=e||document,window.pageYOffset?(t=BX.GetContext(e).pageXOffset,n=BX.GetContext(e).pageYOffset):e.documentElement&&(e.documentElement.scrollTop||e.documentElement.scrollLeft)?(t=e.documentElement.scrollLeft,n=e.documentElement.scrollTop):e.body&&(t=e.body.scrollLeft,n=e.body.scrollTop),{scrollLeft:t,scrollTop:n}},BX.GetWindowScrollSize=function(e){var t,n;return e||(e=document),e.compatMode&&"CSS1Compat"==e.compatMode?(t=e.documentElement.scrollWidth,n=e.documentElement.scrollHeight):(n=e.body.scrollHeight>e.body.offsetHeight?e.body.scrollHeight:e.body.offsetHeight,t=e.body.scrollWidth>e.body.offsetWidth||e.compatMode&&"BackCompat"==e.compatMode||e.documentElement&&!e.documentElement.clientWidth?e.body.scrollWidth:e.body.offsetWidth),{scrollWidth:t,scrollHeight:n}},BX.GetWindowSize=function(e){var t=this.GetWindowInnerSize(e),n=this.GetWindowScrollPos(e),i=this.GetWindowScrollSize(e);return{innerWidth:t.innerWidth,innerHeight:t.innerHeight,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight}},BX.scrollTop=function(e,t){if(void 0===t)return e==window?BX.GetWindowScrollPos().scrollTop:e.scrollTop;if(e==window)throw new Error("scrollTop() for window is not implemented");e.scrollTop=parseInt(t)},BX.scrollLeft=function(e,t){if(void 0===t)return e==window?BX.GetWindowScrollPos().scrollLeft:e.scrollLeft;if(e==window)throw new Error("scrollLeft() for window is not implemented");e.scrollLeft=parseInt(t)},BX.hide_object=function(e){(e=BX(e)).style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.height="10px",e.style.width="10px"},BX.is_relative=function(e){var t=BX.style(e,"position");return"relative"==t||"absolute"==t},BX.is_float=function(e){var t=BX.style(e,"float");return"right"==t||"left"==t},BX.is_fixed=function(e){return"fixed"==BX.style(e,"position")},BX.pos=function(e,t){var n={top:0,right:0,bottom:0,left:0,width:0,height:0};if(t=!!t,!e)return n;if(void 0===e.getBoundingClientRect||e.ownerDocument!=document||t){for(var i=0,r=0,o=e.offsetWidth,s=e.offsetHeight,a=!0;null!=e&&(a||!t||!BX.is_relative(e));e=e.offsetParent)if(i+=e.offsetLeft,r+=e.offsetTop,a)a=!1;else{var l=parseInt(BX.style(e,"border-left-width")),u=parseInt(BX.style(e,"border-top-width"));!isNaN(l)&&l>0&&(i+=l),!isNaN(u)&&u>0&&(r+=u)}n.top=r,n.left=i,n.width=o,n.height=s,n.right=n.left+o,n.bottom=n.top+s}else{var c={};try{c=e.getBoundingClientRect()}catch(t){c={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight,right:e.offsetLeft+e.offsetWidth,bottom:e.offsetTop+e.offsetHeight}}var d=document.documentElement,p=document.body;n.top=c.top+(d.scrollTop||p.scrollTop),n.left=c.left+(d.scrollLeft||p.scrollLeft),n.width=c.right-c.left,n.height=c.bottom-c.top,n.right=c.right+(d.scrollLeft||p.scrollLeft),n.bottom=c.bottom+(d.scrollTop||p.scrollTop)}for(var f in n)n.hasOwnProperty(f)&&(n[f]=Math.round(n[f]));return n},BX.width=function(e,t){if(void 0===t)return e==window?window.innerWidth:BX.pos(e).width;BX.style(e,"width",parseInt(t)+"px")},BX.height=function(e,t){if(void 0===t)return e==window?window.innerHeight:BX.pos(e).height;BX.style(e,"height",parseInt(t)+"px")},BX.align=function(e,t,n,i){i=i?i.toLowerCase():"";var r=document;BX.type.isElementNode(e)&&(r=e.ownerDocument,e=BX.pos(e));var o=e.left,s=e.bottom,a=BX.GetWindowScrollPos(r),l=BX.GetWindowInnerSize(r);return l.innerWidth+a.scrollLeft-(e.left+t)<0&&(o=e.right-t>=0?e.right-t:a.scrollLeft),(l.innerHeight+a.scrollTop-(e.bottom+n)<0||~i.indexOf("top"))&&(s=e.top-n>=0||~i.indexOf("top")?e.top-n:a.scrollTop),{left:o,top:s}},BX.scrollToNode=function(e){var t=BX(e);if(t.scrollIntoView)t.scrollIntoView(!0);else{var n=BX.pos(t);window.scrollTo(n.left,n.top)}},BX.showWait=function(e,t){e=BX(e)||document.body||document.documentElement,t=t||BX.message("JS_CORE_LOADING");var n=e.id||Math.random(),i=e.bxmsg=document.body.appendChild(BX.create("DIV",{props:{id:"wait_"+n},style:{background:'url("/bitrix/js/main/core/images/wait.gif") no-repeat scroll 10px center #fcf7d1',border:"1px solid #E1B52D",color:"black",fontFamily:"Verdana,Arial,sans-serif",fontSize:"11px",padding:"10px 30px 10px 37px",position:"absolute",zIndex:"10000",textAlign:"center"},text:t}));return setTimeout(BX.delegate(_adjustWait,e),10),lastWait[lastWait.length]=i,i},BX.closeWait=function(e,t){if(e&&!t&&(t=e.bxmsg),e&&!t&&BX.hasClass(e,"bx-core-waitwindow")&&(t=e),e&&!t&&(t=BX("wait_"+e.id)),t||(t=lastWait.pop()),t&&t.parentNode){for(var n=0,i=lastWait.length;n<i;n++)if(t==lastWait[n]){lastWait=BX.util.deleteFromArray(lastWait,n);break}t.parentNode.removeChild(t),e&&(e.bxmsg=null),BX.cleanNode(t,!0)}},BX.setJSList=function(e){BX.type.isArray(e)&&(e=e.map((function(e){return normalizeUrl(e)})),jsList=jsList.concat(e))},BX.getJSList=function(){return initJsList(),jsList},BX.setCSSList=function(e){BX.type.isArray(e)&&(e=e.map((function(e){return normalizeUrl(e)})),cssList=cssList.concat(e))},BX.getCSSList=function(){return initCssList(),cssList},BX.getJSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")},BX.getCSSPath=function(e){return e.replace(/^(http[s]*:)*\/\/[^\/]+/i,"")},BX.getCDNPath=function(e){return e},BX.loadScript=function(e,t,n){return BX.type.isString(e)&&(e=[e]),BX.load(e,t,n)},BX.loadCSS=function(e,t,n){BX.type.isString(e)&&(e=[e]),BX.type.isArray(e)&&(e=e.map((function(e){return{url:e,ext:"css"}})),BX.load(e,null,t))},BX.load=function(e,t,n){if(!BX.isReady){var i=arguments;return BX.ready((function(){BX.load.apply(this,i)})),null}return n=n||document,null===isAsync&&(isAsync="async"in n.createElement("script")||"MozAppearance"in n.documentElement.style||window.opera),isAsync?loadAsync(e,t,n):loadAsyncEmulation(e,t,n)},BX.convert={toNumber:function(e){return BX.type.isNumber(e)?e:(e=Number(e),isNaN(e)?0:e)},nodeListToArray:function(e){try{return Array.prototype.slice.call(e,0)}catch(r){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t}}},BX.reload=function(e,t){!0===e&&(t=!0,e=null);var n=e||top.location.href,i=n.indexOf("#"),r="";-1!=i&&(r=n.substr(i),n=n.substr(0,i)),t&&n.indexOf("clear_cache=Y")<0&&(n+=(-1==n.indexOf("?")?"?":"&")+"clear_cache=Y"),r&&(t&&("view/"==r.substr(0,5)||"#view/"==r.substr(0,6))&&r.indexOf("clear_cache%3DY")<0&&(r+=(-1==r.indexOf("%3F")?"%3F":"%26")+"clear_cache%3DY"),n=n.replace(/(\?|\&)_r=[\d]*/,""),n+=(-1==n.indexOf("?")?"?":"&")+"_r="+Math.round(1e4*Math.random())+r),top.location.href=n},BX.clearCache=function(){BX.showWait(),BX.reload(!0)},BX.template=function(e,t,n){BX.ready((function(){_processTpl(BX(e),t,n)}))},BX.isAmPmMode=function(e){return!0===e?BX.message.AMPM_MODE:!1!==BX.message.AMPM_MODE},BX.formatDate=function(e,t){var n=(e=e||new Date).getHours()||e.getMinutes()||e.getSeconds();return(t||(n?BX.message("FORMAT_DATETIME"):BX.message("FORMAT_DATE"))).replace(/YYYY/gi,e.getFullYear()).replace(/MMMM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/MM/gi,BX.util.str_pad_left((e.getMonth()+1).toString(),2,"0")).replace(/DD/gi,BX.util.str_pad_left(e.getDate().toString(),2,"0")).replace(/HH/gi,BX.util.str_pad_left(e.getHours().toString(),2,"0")).replace(/MI/gi,BX.util.str_pad_left(e.getMinutes().toString(),2,"0")).replace(/SS/gi,BX.util.str_pad_left(e.getSeconds().toString(),2,"0"))},BX.formatName=function(e,t,n){t=t||"";var i={TITLE:(e=e||{}).TITLE||"",NAME:e.NAME||"",LAST_NAME:e.LAST_NAME||"",SECOND_NAME:e.SECOND_NAME||"",LOGIN:e.LOGIN||"",NAME_SHORT:e.NAME?e.NAME.substr(0,1)+".":"",LAST_NAME_SHORT:e.LAST_NAME?e.LAST_NAME.substr(0,1)+".":"",SECOND_NAME_SHORT:e.SECOND_NAME?e.SECOND_NAME.substr(0,1)+".":"",EMAIL:e.EMAIL||"",ID:e.ID||"",NOBR:"","/NOBR":""},r=t;for(var o in i)i.hasOwnProperty(o)&&(r=r.replace("#"+o+"#",i[o]));return""==(r=r.replace(/([\s]+)/gi," ").trim())&&(r=""==(r="Y"==n?i.LOGIN:"")?"Noname":r),r},BX.getNumMonth=function(e){var t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],n=["january","february","march","april","may","june","july","august","september","october","november","december"],r=e.toUpperCase();for(i=1;i<=12;i++)if(r==BX.message("MON_"+i).toUpperCase()||r==BX.message("MONTH_"+i).toUpperCase()||r==t[i-1].toUpperCase()||r==n[i-1].toUpperCase())return i;return e},BX.parseDate=function(e,t,n,i){if(BX.type.isNotEmptyString(e)){n||(n=BX.message("FORMAT_DATE")),i||(i=BX.message("FORMAT_DATETIME"));var r="";for(o=1;o<=12;o++)r=r+"|"+BX.message("MON_"+o);var o,s,a=new RegExp("([0-9]+|[a-z]+"+r+")","ig"),l=e.match(a),u=n.match(/(DD|MI|MMMM|MM|M|YYYY)/gi),c=[],d=[],p={};if(!l)return null;for(l.length>u.length&&(u=i.match(/(DD|MI|MMMM|MM|M|YYYY|HH|H|SS|TT|T|GG|G)/gi)),o=0,s=l.length;o<s;o++)""!=BX.util.trim(l[o])&&(c[c.length]=l[o]);for(o=0,s=u.length;o<s;o++)""!=BX.util.trim(u[o])&&(d[d.length]=u[o]);var f=BX.util.array_search("MMMM",d);for((f>0||(f=BX.util.array_search("M",d))>0)&&(c[f]=BX.getNumMonth(c[f]),d[f]="MM"),o=0,s=d.length;o<s;o++){var h=d[o].toUpperCase();p[h]="T"==h||"TT"==h?c[o]:parseInt(c[o],10)}if(p.DD>0&&p.MM>0&&p.YYYY>0){var m=new Date;if(t?(m.setUTCDate(1),m.setUTCFullYear(p.YYYY),m.setUTCMonth(p.MM-1),m.setUTCDate(p.DD),m.setUTCHours(0,0,0,0)):(m.setDate(1),m.setFullYear(p.YYYY),m.setMonth(p.MM-1),m.setDate(p.DD),m.setHours(0,0,0,0)),!(isNaN(p.HH)&&isNaN(p.GG)&&isNaN(p.H)&&isNaN(p.G)||isNaN(p.MI))){if(isNaN(p.H)&&isNaN(p.G))p.HH=parseInt(p.HH||p.GG||0,10);else{var B="PM"==(p.T||p.TT||"am").toUpperCase(),g=parseInt(p.H||p.G||0,10);p.HH=B?g+(12==g?0:12):g<12?g:0}isNaN(p.SS)&&(p.SS=0),t?m.setUTCHours(p.HH,p.MI,p.SS):m.setHours(p.HH,p.MI,p.SS)}return m}}return null},BX.selectUtils={addNewOption:function(e,t,n,i,r){if(e=BX(e)){var o=e.length;if(!1!==r)for(var s=0;s<o;s++)if(e[s].value==t)return;e.options[o]=new Option(n,t,!1,!1)}!0===i&&this.sortSelect(e)},deleteOption:function(e,t){if(e=BX(e))for(var n=0;n<e.length;n++)if(e[n].value==t){e.remove(n);break}},deleteSelectedOptions:function(e){if(e=BX(e))for(var t=0;t<e.length;)e[t].selected?(e[t].selected=!1,e.remove(t)):t++},deleteAllOptions:function(e){if(e=BX(e))for(var t=e.length-1;t>=0;t--)e.remove(t)},optionCompare:function(e,t){var n=e.optText.toLowerCase(),i=t.optText.toLowerCase();return n>i?1:n<i?-1:0},sortSelect:function(e){if(e=BX(e)){var t,n=[],i=e.options.length;for(t=0;t<i;t++)n[t]={optText:e[t].text,optValue:e[t].value};for(n.sort(this.optionCompare),e.length=0,i=n.length,t=0;t<i;t++)e[t]=new Option(n[t].optText,n[t].optValue,!1,!1)}},selectAllOptions:function(e){if(e=BX(e))for(var t=e.length,n=0;n<t;n++)e[n].selected=!0},selectOption:function(e,t){if(e=BX(e))for(var n=e.length,i=0;i<n;i++)e[i].selected=e[i].value==t},addSelectedOptions:function(e,t,n,i){if(e=BX(e))for(var r=e.length,o=0;o<r;o++)e[o].selected&&this.addNewOption(t,e[o].value,e[o].text,i,n)},moveOptionsUp:function(e){if(e=BX(e))for(var t=e.length,n=0;n<t;n++)if(e[n].selected&&n>0&&0==e[n-1].selected){var i=new Option(e[n].text,e[n].value);e[n]=new Option(e[n-1].text,e[n-1].value),e[n].selected=!1,e[n-1]=i,e[n-1].selected=!0}},moveOptionsDown:function(e){if(e=BX(e))for(var t=e.length,n=t-1;n>=0;n--)if(e[n].selected&&n<t-1&&0==e[n+1].selected){var i=new Option(e[n].text,e[n].value);e[n]=new Option(e[n+1].text,e[n+1].value),e[n].selected=!1,e[n+1]=i,e[n+1].selected=!0}}},BX.getEventTarget=function(e){return e.target?e.target:e.srcElement?e.srcElement:null},BX.hint=function(e,t,n,i){null==n&&(n=t,t=""),null==e.BXHINT&&(e.BXHINT=new BX.CHint({parent:e,hint:n,title:t,id:i}),e.BXHINT.Show())},BX.hint_replace=function(e,t,n){if(null==n&&(n=t,t=""),!e||!e.parentNode||!n)return null;var i=new BX.CHint({hint:n,title:t});return i.CreateParent(),e.parentNode.insertBefore(i.PARENT,e),e.parentNode.removeChild(e),i.PARENT.style.marginLeft="5px",e},BX.CHint=function(e){for(var t in this.PARENT=BX(e.parent),this.HINT=e.hint,this.HINT_TITLE=e.title,this.PARAMS={},this.defaultSettings)null==e[t]?this.PARAMS[t]=this.defaultSettings[t]:this.PARAMS[t]=e[t];null!=e.id&&(this.ID=e.id),this.timer=null,this.bInited=!1,this.msover=!0,this.PARAMS.showOnce?(this.__show(),this.msover=!1,this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)):this.PARENT&&(BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),BX.addCustomEvent("onMenuOpen",BX.delegate(this.disable,this)),BX.addCustomEvent("onMenuClose",BX.delegate(this.enable,this))},BX.CHint.prototype.defaultSettings={show_timeout:1e3,hide_timeout:500,dx:2,showOnce:!1,preventHide:!0,min_width:250},BX.CHint.prototype.CreateParent=function(e,t){this.PARENT&&(BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),t||(t={});var n="icon";return!t.type||"link"!=t.type&&"icon"!=t.type||(n=t.type),e&&(n="element"),"icon"==n?e=BX.create("IMG",{props:{src:t.iconSrc?t.iconSrc:"/bitrix/js/main/core/images/hint.gif"}}):"link"==n&&(e=BX.create("A",{props:{href:"javascript:void(0)"},html:"[?]"})),this.PARENT=e,BX.bind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.bind(this.PARENT,"mouseout",BX.proxy(this.Hide,this)),this.PARENT},BX.CHint.prototype.Show=function(){this.msover=!0,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__show,this),this.PARAMS.show_timeout)},BX.CHint.prototype.Hide=function(){this.msover=!1,null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout)},BX.CHint.prototype.__show=function(){this.msover&&!this.disabled&&(this.bInited||this.Init(),this.prepareAdjustPos()&&(this.DIV.style.display="block",this.adjustPos(),BX.bind(window,"scroll",BX.proxy(this.__onscroll,this)),this.PARAMS.showOnce&&(this.timer=setTimeout(BX.proxy(this.__hide,this),this.PARAMS.hide_timeout))))},BX.CHint.prototype.__onscroll=function(){BX.admin&&BX.admin.panel&&BX.admin.panel.isFixed()&&(this.scrollTimer&&clearTimeout(this.scrollTimer),this.DIV.style.display="none",this.scrollTimer=setTimeout(BX.proxy(this.Reopen,this),this.PARAMS.show_timeout))},BX.CHint.prototype.Reopen=function(){null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout(BX.proxy(this.__show,this),50)},BX.CHint.prototype.__hide=function(){this.msover||this.bInited&&(BX.unbind(window,"scroll",BX.proxy(this.Reopen,this)),this.PARAMS.showOnce?this.Destroy():this.DIV.style.display="none")},BX.CHint.prototype.__hide_immediately=function(){this.msover=!1,this.__hide()},BX.CHint.prototype.Init=function(){this.DIV=document.body.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip"},style:{display:"none"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-top-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'}),this.CONTENT=BX.create("DIV",{props:{className:"bx-panel-tooltip-content"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay"},children:[BX.create("DIV",{props:{className:"bx-panel-tooltip-underlay-bg"}})]})]}),BX.create("DIV",{props:{className:"bx-panel-tooltip-bottom-border"},html:'<div class="bx-panel-tooltip-corner bx-panel-tooltip-left-corner"></div><div class="bx-panel-tooltip-border"></div><div class="bx-panel-tooltip-corner bx-panel-tooltip-right-corner"></div>'})]})),this.ID&&this.CONTENT.insertBefore(BX.create("A",{attrs:{href:"javascript:void(0)"},props:{className:"bx-panel-tooltip-close"},events:{click:BX.delegate(this.Close,this)}}),this.CONTENT.firstChild),this.HINT_TITLE&&this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-title"},text:this.HINT_TITLE})),this.HINT&&(this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))),this.PARAMS.preventHide&&(BX.bind(this.DIV,"mouseout",BX.proxy(this.Hide,this)),BX.bind(this.DIV,"mouseover",BX.proxy(this.Show,this))),this.bInited=!0},BX.CHint.prototype.setContent=function(e){this.HINT=e,this.CONTENT_TEXT?this.CONTENT_TEXT.innerHTML=this.HINT:this.CONTENT_TEXT=this.CONTENT.appendChild(BX.create("DIV",{props:{className:"bx-panel-tooltip-text"}})).appendChild(BX.create("SPAN",{html:this.HINT}))},BX.CHint.prototype.prepareAdjustPos=function(){return this._wnd={scrollPos:BX.GetWindowScrollPos(),scrollSize:BX.GetWindowScrollSize()},"none"!=BX.style(this.PARENT,"display")},BX.CHint.prototype.getAdjustPos=function(){var e={},t=BX.pos(this.PARENT),n=0;if(e.top=t.bottom+this.PARAMS.dx,BX.admin&&BX.admin.panel.DIV&&(n=BX.admin.panel.DIV.offsetHeight+this.PARAMS.dx,BX.admin.panel.isFixed()&&(n+=this._wnd.scrollPos.scrollTop)),e.top<n?e.top=n:e.top+this.DIV.offsetHeight>this._wnd.scrollSize.scrollHeight&&(e.top=t.top-this.PARAMS.dx-this.DIV.offsetHeight),e.left=t.left,t.left<this.PARAMS.dx)t.left=this.PARAMS.dx;else{var i=this.DIV.offsetWidth,r=this._wnd.scrollSize.scrollWidth-i-this.PARAMS.dx;e.left>r&&(e.left=r)}return e},BX.CHint.prototype.adjustWidth=function(){if(!this.bWidthAdjusted){var e=this.DIV.offsetWidth,t=this.DIV.offsetHeight;e>this.PARAMS.min_width&&(e=Math.round(Math.sqrt(1.618*e*t))),e<this.PARAMS.min_width&&(e=this.PARAMS.min_width),this.DIV.style.width=e+"px",this._adjustWidthInt&&clearInterval(this._adjustWidthInt),this._adjustWidthInt=setInterval(BX.delegate(this._adjustWidthInterval,this),5),this.bWidthAdjusted=!0}},BX.CHint.prototype._adjustWidthInterval=function(){this.DIV&&"none"!=this.DIV.style.display||clearInterval(this._adjustWidthInt);var e=this.DIV.offsetWidth,t=this.CONTENT_TEXT.offsetWidth;e>0&&t>0&&e-t<20&&e<1500?this.DIV.style.width=e+20+"px":clearInterval(this._adjustWidthInt)},BX.CHint.prototype.adjustPos=function(){this.adjustWidth();var e=this.getAdjustPos();this.DIV.style.top=e.top+"px",this.DIV.style.left=e.left+"px"},BX.CHint.prototype.Close=function(){this.ID&&BX.WindowManager&&BX.WindowManager.saveWindowOptions(this.ID,{display:"off"}),this.__hide_immediately(),this.Destroy()},BX.CHint.prototype.Destroy=function(){this.PARENT&&(BX.unbind(this.PARENT,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.PARENT,"mouseout",BX.proxy(this.Hide,this))),this.DIV&&(BX.unbind(this.DIV,"mouseover",BX.proxy(this.Show,this)),BX.unbind(this.DIV,"mouseout",BX.proxy(this.Hide,this)),BX.cleanNode(this.DIV,!0))},BX.CHint.prototype.enable=function(){this.disabled=!1},BX.CHint.prototype.disable=function(){this.__hide_immediately(),this.disabled=!0},document.addEventListener?__readyHandler=function(){document.removeEventListener("DOMContentLoaded",__readyHandler,!1),runReady()}:document.attachEvent&&(__readyHandler=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",__readyHandler),runReady())}),window.attachEvent?window.attachEvent("onunload",Trash):window.addEventListener?window.addEventListener("unload",Trash,!1):window.onunload=Trash,BX(BX.DoNothing),window.BX=BX,BX.browser.addGlobalClass(),BX.data=function(e,t,n){if(void 0!==e&&void 0!==t)if(void 0!==n)dataStorage.set(e,t,n);else{var i;if(null!=(i=dataStorage.get(e,t)))return i;if("getAttribute"in e){if(null===(i=e.getAttribute("data-"+t.toString())))return;return i}}},BX.DataStorage=function(){this.keyOffset=1,this.data={},this.uniqueTag="BX-"+Math.random(),this.resolve=function(e,t){if(void 0===e[this.uniqueTag]){if(!t)return;try{Object.defineProperty(e,this.uniqueTag,{value:this.keyOffset++})}catch(t){e[this.uniqueTag]=this.keyOffset++}}return e[this.uniqueTag]},this.get=function(e,t){if((e==document||BX.type.isElementNode(e))&&void 0!==t&&void 0!==(e=this.resolve(e,!1))&&void 0!==this.data[e])return this.data[e][t]},this.set=function(e,t,n){if((e==document||BX.type.isElementNode(e))&&void 0!==n){var i=this.resolve(e,!0);void 0===this.data[i]&&(this.data[i]={}),this.data[i][t]=n}}};var dataStorage=new BX.DataStorage;BX.LazyLoad={images:[],imageStatus:{hidden:-2,error:-1,undefined:0,inited:1,loaded:2},imageTypes:{image:1,background:2},registerImage:function(e,t,n){n=n||{},BX.type.isNotEmptyString(e)&&this.images.push({id:e,node:null,src:null,dataSrcName:n.dataSrcName||"src",type:null,func:BX.type.isFunction(t)?t:null,status:this.imageStatus.undefined})},registerImages:function(e,t,n){if(BX.type.isArray(e))for(var i=0,r=e.length;i<r;i++)this.registerImage(e[i],t,n)},showImages:function(e){var t=null,n=!1;e=!1!==e;for(var i=0,r=this.images.length;i<r;i++)(t=this.images[i]).status==this.imageStatus.undefined&&this.initImage(t),t.status===this.imageStatus.inited&&(t.node&&t.node.parentNode?(n=!0,e&&t.func&&(n=t.func(t)),!0===n&&this.isElementVisibleOnScreen(t.node)&&(t.type==this.imageTypes.image?t.node.src=t.src:t.node.style.backgroundImage="url('"+t.src+"')",t.node.dataset[t.dataSrcName]="",t.status=this.imageStatus.loaded)):(t.node=null,t.status=this.imageStatus.error))},initImage:function(e){e.status=this.imageStatus.error;var t=BX(e.id);if(t){var n=t.dataset[e.dataSrcName];BX.type.isNotEmptyString(n)&&(e.node=t,e.src=n,e.status=this.imageStatus.inited,e.type="img"==e.node.tagName.toLowerCase()?this.imageTypes.image:this.imageTypes.background)}},isElementVisibleOnScreen:function(e){var t=this.getElementCoords(e),n=window.pageYOffset||document.documentElement.scrollTop,i=n+document.documentElement.clientHeight;t.bottom=t.top+e.offsetHeight;var r=t.top>n&&t.top<i,o=t.bottom<i&&t.bottom>n;return r||o},isElementVisibleOn2Screens:function(e){var t=this.getElementCoords(e),n=document.documentElement.clientHeight,i=window.pageYOffset||document.documentElement.scrollTop,r=i+n;t.bottom=t.top+e.offsetHeight,i-=n,r+=n;var o=t.top>i&&t.top<r,s=t.bottom<r&&t.bottom>i;return o||s},getElementCoords:function(e){var t=e.getBoundingClientRect();return{originTop:t.top,originLeft:t.left,top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},onScroll:function(){BX.LazyLoad.showImages()},clearImages:function(){this.images=[]}},BX.getCookie=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},BX.setCookie=function(e,t,n){var i=(n=n||{}).expires;if("number"==typeof i&&i){var r=new Date;r.setTime(r.getTime()+1e3*i),i=n.expires=r}i&&i.toUTCString&&(n.expires=i.toUTCString());var o=e+"="+(t=encodeURIComponent(t));for(var s in n)if(n.hasOwnProperty(s)){o+="; "+s;var a=n[s];!0!==a&&(o+="="+a)}return document.cookie=o,!0},BX.FixFontSize=function(e){var t,n;this.node=null,this.prevWindowSize=0,this.prevWrapperSize=0,this.mainWrapper=null,this.textWrapper=null,this.objList=e.objList,this.minFontSizeList=[],this.minFontSize=0,e.onresize&&(this.prevWindowSize=window.innerWidth||document.documentElement.clientWidth,BX.bind(window,"resize",BX.proxy(BX.throttle(this.onResize,350),this))),e.onAdaptiveResize&&(t=this.objList[0].scaleBy||this.objList[0].node,n=getComputedStyle(t),this.prevWrapperSize=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight),BX.bind(window,"resize",BX.proxy(BX.throttle(this.onAdaptiveResize,350),this))),this.createTestNodes(),this.decrease()},BX.FixFontSize.prototype={createTestNodes:function(){this.textWrapper=BX.create("div",{style:{display:"inline-block",whiteSpace:"nowrap"}}),this.mainWrapper=BX.create("div",{style:{height:0,overflow:"hidden"},children:[this.textWrapper]})},insertTestNodes:function(){document.body.appendChild(this.mainWrapper)},removeTestNodes:function(){document.body.removeChild(this.mainWrapper)},decrease:function(){var e,t,n,i;this.insertTestNodes();for(var r=this.objList.length-1;r>=0;r--)if(n=this.objList[r].scaleBy||this.objList[r].node,i=getComputedStyle(n),e=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight),t=parseInt(getComputedStyle(this.objList[r].node)["font-size"]),this.textWrapperSetStyle(this.objList[r].node),this.textWrapperInsertText(this.objList[r].node)){for(;this.textWrapper.offsetWidth>e&&t>0;)this.textWrapper.style.fontSize=--t+"px";this.objList[r].smallestValue?(this.minFontSize=this.minFontSize?Math.min(this.minFontSize,t):t,this.minFontSizeList.push(this.objList[r].node)):this.objList[r].node.style.fontSize=t+"px"}this.minFontSizeList.length>0&&this.setMinFont(),this.removeTestNodes()},increase:function(){var e,t,n,i;this.insertTestNodes(),this.insertTestNodes();for(var r=this.objList.length-1;r>=0;r--)if(n=this.objList[r].scaleBy||this.objList[r].node,i=getComputedStyle(n),e=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight),t=parseInt(getComputedStyle(this.objList[r].node)["font-size"]),this.textWrapperSetStyle(this.objList[r].node),this.textWrapperInsertText(this.objList[r].node)){for(;this.textWrapper.offsetWidth<e&&t<this.objList[r].maxFontSize;)this.textWrapper.style.fontSize=++t+"px";t--,this.objList[r].smallestValue?(this.minFontSize=this.minFontSize?Math.min(this.minFontSize,t):t,this.minFontSizeList.push(this.objList[r].node)):this.objList[r].node.style.fontSize=t+"px"}this.minFontSizeList.length>0&&this.setMinFont(),this.removeTestNodes()},setMinFont:function(){for(var e=this.minFontSizeList.length-1;e>=0;e--)this.minFontSizeList[e].style.fontSize=this.minFontSize+"px";this.minFontSize=0},onResize:function(){var e=window.innerWidth||document.documentElement.clientWidth;this.prevWindowSize>e?this.decrease():this.prevWindowSize<e&&this.increase(),this.prevWindowSize=e},onAdaptiveResize:function(){var e=this.objList[0].scaleBy||this.objList[0].node,t=getComputedStyle(e),n=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight);this.prevWrapperSize>n?this.decrease():this.prevWrapperSize<n&&this.increase(),this.prevWrapperSize=n},textWrapperInsertText:function(e){return e.textContent?(this.textWrapper.textContent=e.textContent,!0):!!e.innerText&&(this.textWrapper.innerText=e.innerText,!0)},textWrapperSetStyle:function(e){this.textWrapper.style.fontFamily=getComputedStyle(e)["font-family"],this.textWrapper.style.fontSize=getComputedStyle(e)["font-size"],this.textWrapper.style.fontStyle=getComputedStyle(e)["font-style"],this.textWrapper.style.fontWeight=getComputedStyle(e)["font-weight"],this.textWrapper.style.lineHeight=getComputedStyle(e)["line-height"]}},BX.FixFontSize.init=function(e){return new BX.FixFontSize(e)},void 0===BX.ParamBag&&(BX.ParamBag=function(){this._params={}},BX.ParamBag.prototype={initialize:function(e){this._params=e||{}},getParam:function(e,t){var n=this._params;return void 0!==n[e]?n[e]:t},setParam:function(e,t){this._params[e]=t},clear:function(){this._params={}}},BX.ParamBag.create=function(e){var t=new BX.ParamBag;return t.initialize(e),t})}function getObjectDelegate(e,t,n,i){if(!BX.type.isFunction(e)||!BX.type.isMapKey(t))return e;var r=n.get(t);r||(r=new WeakMap,n.set(t,r));var o=r.get(e);return o||(o=i?i(BX.delegate(e,t)):BX.delegate(e,t),r.set(e,o)),o}function loadAsync(e,t,n){if(BX.type.isArray(e)){BX.type.isFunction(t)||(t=null);var i,r,o={};for(r=0;r<e.length;r++)i=getAsset(i=e[r]),o[i.name]=i;var s=!1;for(r=0;r<e.length;r++)load(i=getAsset(i=e[r]),(function(){a(o)&&(s||(t&&t(),s=!0))}),n)}function a(e){for(var t in e=e||assets)if(e.hasOwnProperty(t)&&e[t].state!==LOADED)return!1;return!0}}function loadAsyncEmulation(e,t,n){function i(e){void 0===e.state&&(e.state=PRELOADING,e.onpreload=[],loadAsset({url:e.url,type:"cache",ext:e.ext},(function(){!function(e){if(e.state=PRELOADED,BX.type.isArray(e.onpreload)&&e.onpreload)for(var t=0;t<e.onpreload.length;t++)e.onpreload[t].call()}(e)}),n))}if(BX.type.isArray(e)){BX.type.isFunction(t)||(t=null);for(var r=[].slice.call(e,1),o=0;o<r.length;o++)i(getAsset(r[o]));load(getAsset(e[0]),1===e.length?t:function(){loadAsyncEmulation.apply(null,[r,t,n])},n)}}function load(e,t,n){t=t||BX.DoNothing,e.state!==LOADED?e.state!==PRELOADING?(e.state=LOADING,loadAsset(e,(function(){e.state=LOADED,t()}),n)):e.onpreload.push((function(){load(e,t,n)})):t()}function loadAsset(e,t,n){function i(e){o.onload=o.onreadystatechange=o.onerror=null,t()}function r(i){("load"===(i=i||window.event).type||/loaded|complete/.test(o.readyState)&&(!n.documentMode||n.documentMode<9))&&(window.clearTimeout(e.errorTimeout),window.clearTimeout(e.cssTimeout),o.onload=o.onreadystatechange=o.onerror=null,t())}var o;t=t||BX.DoNothing;var s=BX.type.isNotEmptyString(e.ext)?e.ext:BX.util.getExtension(e.url);"css"===s?((o=n.createElement("link")).type="text/"+(e.type||"css"),o.rel="stylesheet",o.href=e.url,e.cssRetries=0,e.cssTimeout=window.setTimeout((function t(){if(e.state!==LOADED&&e.cssRetries<=20){for(var i=0,s=n.styleSheets.length;i<s;i++)if(n.styleSheets[i].href===o.href)return void r({type:"load"});e.cssRetries++,e.cssTimeout=window.setTimeout(t,250)}}),500)):((o=n.createElement("script")).type="text/"+(e.type||"javascript"),o.src=e.url),o.onload=o.onreadystatechange=r,o.onerror=i,o.async=!1,o.defer=!1,e.errorTimeout=window.setTimeout((function(){i()}),7e3),"css"===s?cssList.push(normalizeMinUrl(normalizeUrl(e.url))):jsList.push(normalizeMinUrl(normalizeUrl(e.url)));var a=null,l=n.head||n.getElementsByTagName("head")[0];"css"===s&&null!==(a=getTemplateLink(l))?a.parentNode.insertBefore(o,a):l.insertBefore(o,l.lastChild)}function getAsset(e){var t={};"object"==typeof e?(t=e).name=t.name?t.name:BX.util.hashCode(e.url):t={name:BX.util.hashCode(e),url:e},("css"===(BX.type.isNotEmptyString(t.ext)?t.ext:BX.util.getExtension(t.url))&&isCssLoaded(t.url)||isScriptLoaded(t.url))&&(t.state=LOADED);var n=assets[t.name];return n&&n.url===t.url?n:(assets[t.name]=t,t)}function normalizeUrl(e){return BX.type.isNotEmptyString(e)?e=(e=BX.getJSPath(e)).replace(/\?[0-9]*$/,""):""}function normalizeMinUrl(e){if(!BX.type.isNotEmptyString(e))return"";var t=e.indexOf(".min");return t>=0?e.substr(0,t)+e.substr(t+4):e}function isCssLoaded(e){initCssList();var t=normalizeMinUrl(e=normalizeUrl(e));return e!==t&&BX.util.in_array(t,cssList)||BX.util.in_array(e,cssList)}function initCssList(){if(!cssInit){var e=document.getElementsByTagName("link");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("href");BX.type.isNotEmptyString(n)&&(n=normalizeMinUrl(normalizeUrl(n)),cssList.push(n))}cssInit=!0}}function getTemplateLink(e){var t=function(t){for(var n=e.getElementsByTagName(t),i=0,r=n.length;i<r;i++){var o=n[i].getAttribute("data-template-style");if(BX.type.isNotEmptyString(o)&&"true"==o)return n[i]}return null},n=t("link");return null===n&&(n=t("style")),n}function isScriptLoaded(e){initJsList();var t=normalizeMinUrl(e=normalizeUrl(e));return e!==t&&BX.util.in_array(t,jsList)||BX.util.in_array(e,jsList)}function initJsList(){if(!jsInit){var e=document.getElementsByTagName("script");if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t].getAttribute("src");BX.type.isNotEmptyString(n)&&(n=normalizeMinUrl(normalizeUrl(n)),jsList.push(n))}jsInit=!0}}function bindReady(){if(!readyBound){if(readyBound=!0,"complete"===document.readyState)return runReady();if(document.addEventListener)document.addEventListener("DOMContentLoaded",__readyHandler,!1),window.addEventListener("load",runReady,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",__readyHandler),window.attachEvent("onload",runReady);var e=!1;try{e=null==window.frameElement}catch(e){}document.documentElement.doScroll&&e&&doScrollCheck()}}return null}function runReady(){if(!BX.isReady){if(!document.body)return setTimeout(runReady,15);if(BX.isReady=!0,readyList&&readyList.length>0){for(var e,t=0;readyList&&(e=readyList[t++]);)try{e.call(document)}catch(e){BX.debug("BX.ready error: ",e)}readyList=null}}return null}function doScrollCheck(){if(!BX.isReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(doScrollCheck,1)}runReady()}}function _adjustWait(){if(this.bxmsg){var e=BX.pos(this),t=e.top;t<BX.GetDocElement().scrollTop&&(t=BX.GetDocElement().scrollTop+5),this.bxmsg.style.top=t+5+"px",this==BX.GetDocElement()?this.bxmsg.style.right="5px":this.bxmsg.style.left=e.right-this.bxmsg.offsetWidth-5+"px"}}function _checkDisplay(e,t){void 0!==t&&(e.BXDISPLAY=t);var n=e.style.display||BX.style(e,"display");return"none"!=n?(e.BXDISPLAY=e.BXDISPLAY||n,!0):(e.BXDISPLAY=e.BXDISPLAY||"block",!1)}function _processTpl(e,t,n){if(e){n&&e.parentNode.removeChild(e);for(var i={},r=BX.findChildren(e,{attribute:"data-role"},!0),o=0,s=r.length;o<s;o++)i[r[o].getAttribute("data-role")]=r[o];t.apply(e,[i])}}function _checkNode(e,t){if(t=t||{},BX.type.isFunction(t))return t.call(window,e);if(!t.allowTextNodes&&!BX.type.isElementNode(e))return!1;var n,i,r;for(n in t)if(t.hasOwnProperty(n))switch(n){case"tag":case"tagName":if(BX.type.isString(t[n])){if(e.tagName.toUpperCase()!=t[n].toUpperCase())return!1}else if(t[n]instanceof RegExp&&!t[n].test(e.tagName))return!1;break;case"class":case"className":if(BX.type.isString(t[n])){if(!BX.hasClass(e,t[n]))return!1}else if(t[n]instanceof RegExp&&(!BX.type.isString(e.className)||!t[n].test(e.className)))return!1;break;case"attr":case"attrs":case"attribute":if(BX.type.isString(t[n])){if(!e.getAttribute(t[n]))return!1}else if(BX.type.isArray(t[n])){for(i=0,r=t[n].length;i<r;i++)if(t[n][i]&&!e.getAttribute(t[n][i]))return!1}else for(i in t[n])if(t[n].hasOwnProperty(i)){var o=e.getAttribute(i);if(t[n][i]instanceof RegExp){if(!BX.type.isString(o)||!t[n][i].test(o))return!1}else if(o!=""+t[n][i])return!1}break;case"property":case"props":if(BX.type.isString(t[n])){if(!e[t[n]])return!1}else if(BX.type.isArray(t[n])){for(i=0,r=t[n].length;i<r;i++)if(t[n][i]&&!e[t[n][i]])return!1}else for(i in t[n])if(BX.type.isString(t[n][i])){if(e[i]!=t[n][i])return!1}else if(t[n][i]instanceof RegExp&&(!BX.type.isString(e[i])||!t[n][i].test(e[i])))return!1;break;case"callback":return t[n](e)}return!0}function Trash(){var e,t;for(e=0,t=garbageCollectors.length;e<t;e++)try{garbageCollectors[e].callback.apply(garbageCollectors[e].context||window),delete garbageCollectors[e],garbageCollectors[e]=null}catch(e){}}}(window);