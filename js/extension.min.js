!function(){"use strict";if(!(!BX||BX&&"function"!=typeof BX.namespace||BX&&BX.LoadExt&&BX.LoadExt.Extension)){BX.namespace("BX.LoadExt");var t="error";BX.LoadExt.Extension=function(n){if(!BX.type.isPlainObject(n))return new TypeError("data is not object");this.name=n.extension,this.state=n.html?"scheduled":t;var s=function(t){return BX.type.isString(t)?BX.processHTML(t):{SCRIPT:[],STYLE:[]}}(n.html);this.inlineScripts=s.SCRIPT.reduce(e,[]),this.externalScripts=s.SCRIPT.reduce(i,[]),this.externalStyles=s.STYLE},BX.LoadExt.Extension.prototype={load:function(){return this.state===t&&(this.loadPromise=this.loadPromise||Promise.resolve(this),console.warn("Extension",this.name,"not found")),!this.loadPromise&&this.state&&(this.state="load",this.inlineScripts.forEach(BX.evalGlobal),this.loadPromise=Promise.all([n(this.externalScripts),n(this.externalStyles)]).then(function(){return this.state="loaded",this}.bind(this))),this.loadPromise}}}function e(t,e){return e.isInternal&&t.push(e.JS),t}function i(t,e){return!e.isInternal&&t.push(e.JS),t}function n(t){return(t=function(t){return BX.type.isArray(t)?t:BX.type.isString(t)?[t]:[]}(t)).length?new Promise(function(e){BX.load(t,e)}.bind(this)):Promise.resolve()}}();